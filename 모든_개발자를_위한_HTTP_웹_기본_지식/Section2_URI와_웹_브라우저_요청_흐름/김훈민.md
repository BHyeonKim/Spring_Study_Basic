# Section 2. URI와 웹브라우저 요청 흐름

## 0. URI

uri ⇒ 로케이터, 이름 또는 둘다 추가로 분류될 수 있다.

uri라는 큰 개념안에 url, urn 이 들어가있음. uri는 주민번호를 식별한다 그런 느낌.

url은 리소스 로케이터야. 리소스의 위치를 의미한다.

urn은 리소스의 이름이다.

웹 브라우져에서 적는 어쩌고 저쩌고하는게 url이고, urn은 그냥 이름을 부여하는거임.

거의 url만 씀. urn은 그냥 이런게 있다고만 하면 된다.

uri 는

유니폼 ⇒ 리소스 식별하는 통일된 방식

리소스 ⇒ 자원, uri 로 식별할 수 있는 모든 것

아이덴티파이어 ⇒ 구분하는데 필요한 정보.

url 은 리소스가 있는 위치를 지정. 그래서 url은 아 그 리소스가 여기에있을거야 하고 치는거야. urn  딱 이름만 있는거. 그거만 가지고는 머가 나오진않아. 검색엔진을 통하면 머가 나올 수 있겠지만 웹브라우저에 치면 머가 나오진 않아.

앞으로는 uri와 url 을 같은 의미로 이야기하겠다.

url 분석 ⇒ 저 url은 구글에 헬로우를 검색한것이다. 뒤에는 랭귀지는 코리아

url 스키마

스키마에는 어떤 프로토콜을 사용할지 나오고, 어떤 포트를 사용할지 정하는데 http나 https 는 포트가 정해져있으므로 포트는 굳이 안써져도 돼.

userinfo 는 url에 사용자 정보를 포함해야할때 쓰는데 거의 사용하지 않음.

호스트에는 도메인 주소를 넣고 포트는 일반적으로는 위에 말했던것처럼 생략하기도 한다.

패스는 리소스가 있는 경로야. 그리고 계층적 구조로 되어있어. 아무렇게나 설계해도되지만 계층적으로 설계를해야 이게 동작이 잘된다.

쿼리는 다르게 될수있는데 q는 구글에서 정한거임 저 언어도 구글에서 정한거, 근데 쿼리를 시작할땐 ? 로 시작함.

이름은 공식적으로 쿼리인데 우리는 쿼리파라미터, 쿼리 스트링으로 불림. 스트링은 왜냐 이게 다 문자로 넘어가니까 다 문자를 넘긴다고 해서 쿼리 스트링이라고 부른다.

## 1. 웹 브라우저 요청 흐름

먼저 저런 dns 조회를 하고 그러면 ip 가 나온다.

포트는 https니까 생략함.

http 요청 메시지를 그다음에 생각을 해. 그러면 Get 서치 어쩌고 저쩌고 함. 웹 브라우저가 http 메시지 생성을 하면 그다음에 소켓 라이브러리를 통해 전달을 해줘, 아이피랑 포트번호를 찾아서 구글 서버랑 연결을 해 그다음에 tcp ip 패킷을 생성하고 http 메시지를 포함해서 보내게 됨.

출발지 Ip, port 전송 데이터가 들어가게 되는데 전송 데이터는 웹브라우저가 만든 그것이다.

그걸 인터넷망으로 딱 던지면 수많은 노드를 통해서 그게 딱 전달이 되게 됨. 구글 서버는 그걸 받고 tcp ip 패킷을 다 까서 버리고 http 메시지만 보고 아 헬로우와 관련된 검색 결과 중 한국어를 딱 http 응답 메시지를 만들어내. http 버젼이고, 정상 응답이고 컨텐트 타입, 렝스 등등을 알려줌.

컨텐트 타입은 텍스트 html 타입이고 언어는 utf-8이야 이렇게 알려주는거임.

구글도 응답패킷을 만들고 그 위에 tcpip 패킷도 만들고 그다음에 이걸 다시 클라이언트에게 보내줌. 클라이언트는 그걸 까면 웹 브라우저는 html 렌더링을 하게 됨.
