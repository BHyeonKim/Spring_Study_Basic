# 인터넷 네트워크

## IP

- 인터넷 프로토콜
- 지정한 IP주소에 데이터 전달
- 패킷이라는 통신 단위로 데이터 전달
- IP 패킷에 출발지 IP,목적지IP 기타 정보와 전송할 데이터를 적는다.
- 한계
  - 비연결성 : 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
    - 대상 서버가 패킷을 받을 수 있는 상태인지 모른다.
  - 비신뢰성 : 중간에 패킷이 사라지거나, 패킷이 순서대로 하지 않음
  - 프로그램 구분 : 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?

## TCP

- 위 IP의 한계를 해결
- 인터넷 프로스콜 스택의 4계층
  - 애플리케이셔 계층 - HTTP, FTP
  - 전송 계층 - TCP, UDP
  - 인터넷 계층 - IP
  - 네트워크 인터페이스 계층

1. 프로그램이 “hello world” 메시지 전송
2. socket 라이브러리를 통해 전달
3. 메시지 데이터를 포함한 tcp 정보를 생성한다.
   1. tcp정보에는 출발지 port, 목적지 port , 전송 제어, 순서, 검증 정보 등이 들어간다.
4. TCP 데이터 포함한 IP 패킷 생성한다.

- 특징
  - 연결 지향 : TCP 3 way handshake(가상연결)
  - 데이터 전달 보증 : 클라이언트가 서버에게 데이터를 전송 후 서버는 데이터를 받았다고 메시지를 클라이언트에게 보냄
  - 순서 보장: 서버가 클라이언트에게 잘못 온 수서부터 다시 보내라고 메시지를 보냄 (tcp 정보에 순서정보가 들어가있음)
  - 신뢰할 수 있는 프로토콜
  - 현재는 대부분 TCP 사용
- TCP 3 way handshake
  1. 클라이언트 → 서버 syn(접속요청)이란 메시지를 보냄
  2. 서버 → 클라이언트 syn + ack ( 접속 요청+ 요청 수락) 를 보냄
  3. 클라이언트 → 서버 ack(요청수락)을 보냄 이 때 함께 데이터를 전송 가능하다.
  4. 데이터를 전송

## UDP

- user datagram protocol
- tcp 와 같이 전송계층에서 ip위에 있는 프로토콜이다.
- tcp 3 way handshake x
- 데이터 전달 보증 x , 순서 보장 x , 데이터 전달 및 순서가 보장 되지 않지만 단순하고 빠름
- IP와 거의 같다 + PORT+ 체크섬
- 추가 작업 필요

## PORT

클라이언트(하나의 IP) 가 게임,화상통화 등 여러가지 일을 하고 싶다면

- 같은 IP 내에서 프로세스 구분
- TCP/IP 패킷에 출발지 PORT 정보와 도착지 PORT 정보가 있다

## DNS

- 도메인 네임 시스템
- 도메인 명을 IP주소로 변환
- DNS 서버에 도메인 등록
  - 클라이언트 → 도메인 서버, 클라이언트 (www.google.com) 요청
  - 도메인 서버→ 클라이언트, 도메인 서버가 (200.200.200.2) IP주소 응답
  - 클라이언트 → 서버 , 200.200.200.2 접속
