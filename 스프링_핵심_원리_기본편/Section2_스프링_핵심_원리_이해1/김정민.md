## 회원 도메인

### 요구사항

1. 회원을 가입하고 조회할 수 있다.
2. 회원은 일반과 VIP 두 가지 등급이 있다.
3. 회원 데이터는 자체 DB를 구축할 수 있고 , 외부 시스템과 연동할 수 있다. (미확정)

### 설계

- 클라이언트 -> 회원서비스(회원가입,회원조회) -> 회원 저장소 (메모리,DB,외부시스템)

### 개발

1. 회원 엔티티
2. 회원 저장소 인터페이스와 구현체
3. 회원 서비스와 구현체

```java
public class MemberServiceImpl implements MemberService {

    private final MemberRepository memberRepository = new MemoryMemberRepository();
...
}

```

문제점 : 현재 MemberServiceImpl은 추상화에도 구체화에도 의존하고 있다.

## 주문과 할인 도메인 개발

### 요구사항

1. 회원은 상품을 주문할 수 있다.
2. 회원 등급에 따라 할인 정책을 적용할 수 있다.
3. 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액할인을 적용한다. (나중에 변경될 수 있음)
4. 할인 정책은 변경 가능성이 높다. (미확정)

### 설계

클라이언트 -> 주문서비스 -> 회원저장소 , 할인 정책 역할

1. 주문 생성 : 클라이언트는 주문 서비스에 주문생성을 요청
2. 회원 조회 : 할인을 위해 회원등급이 필요
3. 할인 적용 : 주문 서비스는 회원등급에 따른 할인 여부를 할인 정책에 위임
4. 주문 결과 반환 : 주문 서비스는 할인 결과를 포함한 주문결과를 반환한다.

### 개발

1. 할인 정책 인터페이스와 구현체
2. 주문 엔티티
3. 주문 서비스 인터페이스와 구현체
   - 주문 서비스에서 멤버 할인율을 가져올 때 주문서비스를 고칠 필요가 없으므르 단일책임원칙이 잘 지켜졌다.
