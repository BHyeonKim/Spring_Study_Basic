## ☂️ 빈 생명주기 콜백 시작

- 스프링을 통한 객체의 초기화 작업과 종료작업을 진행
  - 데이터베이스 커넥션 풀, 네트워크 소켓 ...
- 스프링 빈은 객체를 생성하고 의존관계 주입이 다 끝난 다음에야 필요한 데이터를 사용할 수 있는 준비 완료
- 초기화 작업은 의존관계 주입이 모두 완료되고 난 다음 호출
  - 스프링은 의존관계 주입이 완료되면 스프링 빈에게 **콜백 메서드를 통해 초기화 시점을 알려주는 다양한 기능 제공**
  - 스프링은 **스프링 컨테이너가 종료되기 직전에 소멸 콜백**을 줌, 안전하게 종료 작업 진행
- **스프링 컨테이너 생성** → 스프링 빈 생성 → 의존관계 주입 → **초기화 콜백**
  → 사용 → **소멸전 콜백** → 스프링 종료

## ☂️ 인터페이스 InitializingBean, DisposableBean

- 코드가 스프링 전용 인터페이스에 의존
- 초기화, 소멸 메서드의 이름을 변경할 수 없음
- 내가 코드를 고칠 수 없는 외부 라이브러리에 적용할 수 없음
- 초창기에 사용하던 방법

## ☂️ 빈 등록 초기화, 소멸 메서드

- 설정 정보에 `@Bean(initMethod = "init", destroyMethod = "close")`처럼 초기화, 소멸 메서드를 지정
- 메서드 이름을 자유롭게 지정
- 스프링 빈이 스프링 코드에 의존하지 않음
- 설정 정보를 사용하기 때문에 코드를 고칠 수 없는 외부 라이브러리에도 초기화, 종료 메서드 적용
- `@Bean`의 `destroyMethod`
  - `@Bean`의 `destoryMethod`는 기본값이 `(inferred)`으로 등록
  - 라이브러리의 대부분의 종료 메서드 이름인 `close`, `shutdown`을 자동으로 호출
  - 직접 스프링 빈으로 등록하면 종료 메서드는 따로 적어주지 않아도 동작
  - `destroyMethod = ""`처럼 빈 공백을 옵션으로 주면 추론 기능을 사용하지 않을 수 있음

## ☂️ 애노테이션 @PostConstruct, @PreDestroy

- 최신 스프링에서 가장 권장하는 방법
- 스프링에 종속적인 기술이 아니라 JSR-250 자바 표준, 다른 컨테이너에서도 동작
  - `javax.annotation.PostConstruct`
- 컴포넌트 스캔과 잘 어울림
- 외부 라이브러리 적용 불가
